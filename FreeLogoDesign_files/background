Background=function(n){var t=this,i;t.dom;t.drawningboard=n;t.width=t.drawningboard.width;t.height=t.drawningboard.height;t.statelist=[];t.currentstate=-1;t.alpha=1;t.group=t.drawningboard.workspace.g();t.group.addClass("background-part");t.svg;t.color;i=new Gradient;i.colorlist.push(new Color("rgba(255,255,255,0.25)"));t.color=i;t.start=function(){t.svg=t.drawningboard.workspace.rect(0,0,t.drawningboard.width,t.drawningboard.height);t.svg.attr({fill:t.color.colorlist[0].color});t.group.add(t.svg)};t.finish=function(){t.setcolor("rgba(255, 255, 255, 0.25)")};t.setcolor=function(n){t.drawningboard.selector.closecontext();t.color.colorlist[0].color=n;$(".background-picker").colpickSetOriginal($.colpick.stringToRgba(t.color.colorlist[0].color));$(".background-picker").colpickSetColor($.colpick.stringToRgba(t.color.colorlist[0].color));t.update()};t.applychanges=function(){t.svg.attr({fill:t.color.colorlist[0].color})};t.update=function(n){t.drawningboard.selector.closecontext();n==undefined?t.applychanges():$(".background-picker").colpickSetOriginal($.colpick.stringToRgba(t.color.colorlist[0].color))};t.start()}