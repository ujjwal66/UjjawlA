Contextmenu=function(n){var t=this;t.dom;t.drawningboard=n;t.x;t.y;t.start=function(){t.finish();t.dom=$(".contextmenu");t.dom.hide();t.dom.css("top",t.y+13);t.dom.css("left",t.x-62);t.dom.slideDown(100);t.dom.bind("contextmenu",function(){return!1});t.drawningboard.formatsvg(t.dom);t.drawningboard.ownermode=window.__ownermode||!1;t.drawningboard.ownermode&&t.drawningboard.selector.targethavecompanytext()&&(t.dom.find(".delete").addClass("disabled"),t.dom.find(".copy").addClass("disabled"));t.drawningboard.selector.target.length>1&&t.dom.find(".copy-colors").addClass("disabled");t.drawningboard.selector.colorcopytarget||t.dom.find(".paste-colors").addClass("disabled");t.registerevents()};t.finish=function(){$(".contextmenu").hide()};t.registerevents=function(){t.dom.find(".back").on("click",function(){t.drawningboard.selector.back()});t.dom.find(".front").on("click",function(){t.drawningboard.selector.front()});t.dom.find(".backall").on("click",function(){t.drawningboard.selector.backall()});t.dom.find(".frontall").on("click",function(){t.drawningboard.selector.frontall()});t.dom.find(".copy").on("click",function(){t.drawningboard.ownermode&&t.drawningboard.selector.targethavecompanytext()||(t.drawningboard.selector.copy(),t.drawningboard.selector.paste(),t.finish())});t.dom.find(".delete").on("click",function(){t.drawningboard.ownermode&&t.drawningboard.selector.targethavecompanytext()||t.drawningboard.selector.delete()});t.dom.find(".copy-colors").on("click",function(){t.drawningboard.selector.target.length==1&&(t.dom.find(".copy-colors").find("span").html(t.drawningboard.api.dictionary.contextmenu_copy_colors_success),t.dom.find(".copy-colors").addClass("copied"),t.drawningboard.selector.copycolors(),setTimeout(function(){t.finish()},300))});t.dom.find(".paste-colors").on("click",function(){t.drawningboard.selector.colorcopytarget&&(t.drawningboard.selector.pastecolors(),t.finish())})}}