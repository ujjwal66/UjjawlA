function hexToR(n){return parseInt(cutHex(n).substring(0,2),16)}function hexToG(n){return parseInt(cutHex(n).substring(2,4),16)}function hexToB(n){return parseInt(cutHex(n).substring(4,6),16)}function cutHex(n){return n.charAt(0)=="#"?n.substring(1,7):n}function stringToRgba(n){var t;if(n)n.indexOf("rgba")>=0?(n=n.match(/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d*\.*\d+)\)$/),t={r:parseInt(n[1]),g:parseInt(n[2]),b:parseInt(n[3]),a:parseFloat(n[4])}):n=="transparent"?t={r:255,g:255,b:255,a:0}:(t=stringToRgb(n),t.a=1);else return;return t}function stringToRgb(n){var t;return n=n.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),n?{r:parseInt(n[1]),g:parseInt(n[2]),b:parseInt(n[3])}:{r:255,g:255,b:255}}Color=function(n,t){var i=this,r;i.position=0;i.color=n;i.color?i.color.indexOf("#")==0?(n.length==4&&(i.color="#"+i.color.substring(1,2)+i.color.substring(1,2)+i.color.substring(2,3)+i.color.substring(2,3)+i.color.substring(3,4)+i.color.substring(3,4)),i.color=t?"rgba("+hexToR(i.color)+","+hexToG(i.color)+","+hexToB(i.color)+","+t+")":"rgba("+hexToR(i.color)+","+hexToG(i.color)+","+hexToB(i.color)+",1)"):i.color.indexOf("rgb")==0&&(r=stringToRgba(i.color),t!=undefined&&(r.a=t),i.color="rgba("+r.r+","+r.g+","+r.b+","+r.a+")"):i.color=undefined};comparecolor=function(n,t){return n.position<t.position?-1:n.position>t.position?1:n.position==t.position?n.color<t.color?-1:1:void 0}